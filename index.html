<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Scam Shield AI</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="css/style.css">
<link rel="stylesheet" href="css/responsive.css">

<style>
/* ===== BACKGROUND CANVAS ===== */
#aiCanvas{
    position:fixed;
    inset:0;
    z-index:-3;
}

.overlay{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.45);
    z-index:-2;
}
</style>
</head>

<body>

<!-- AI BACKGROUND -->
<canvas id="aiCanvas"></canvas>
<div class="overlay"></div>

<nav class="navbar">
    <h1>üåê VeritasNet-AI</h1>
    <div>
        <a href="index.html">Home</a>
        <a href="about.html">About</a>
        <a href="history.html">History</a>
    </div>
</nav>

<section class="hero">
    <h2>Detect Scam Messages & Fake Websites Instantly</h2>
    <p>AI + Smart Rule-Based Hybrid Detection</p>
</section>

<section class="detector-container">

    <div class="card">
        <h3>üí¨ Message Detector</h3>
        <textarea id="messageInput" placeholder="Paste suspicious message here..."></textarea>
        <button onclick="checkMessage()">Analyze Message</button>
    </div>

    <div class="card">
        <h3>üåê Website Link Detector</h3>
        <input type="text" id="urlInput" placeholder="Paste website link here...">
        <button onclick="checkURL()">Analyze Link</button>
    </div>

    <div class="card">
        <h3>üì∏ Image/Screenshot Detector</h3>

        <div class="image-upload-container" id="dropZone">
            <input type="file" id="imageInput" accept="image/*" onchange="previewImage(event)">
            <div id="imagePreview" class="image-preview hidden">
                <img id="previewImg" src="" alt="Image Preview">
            </div>
            <p id="imageFileName" class="file-name"></p>
            <p class="drop-hint">or drag and drop image here</p>
        </div>

        <div class="button-group">
            <button onclick="checkImage()">Analyze Image</button>
            <button onclick="clearImage()" class="btn-clear">Clear</button>
        </div>
    </div>

</section>

<section id="resultSection" class="result hidden">
    <h2 id="resultTitle"></h2>
    <p id="resultReason"></p>
    <p id="confidenceScore"></p>
</section>

<!-- ===== AI NETWORK ANIMATION ===== -->
<script>
const canvas = document.getElementById("aiCanvas");
const ctx = canvas.getContext("2d");

let w, h;
function resize(){
    w = canvas.width = window.innerWidth;
    h = canvas.height = window.innerHeight;
}
window.addEventListener("resize", resize);
resize();

const mouse = { x:null, y:null };

window.addEventListener("mousemove", e=>{
    mouse.x = e.clientX;
    mouse.y = e.clientY;
});
window.addEventListener("mouseleave", ()=>{
    mouse.x = null;
    mouse.y = null;
});

const nodes = [];
const NODE_COUNT = 120;

for(let i=0;i<NODE_COUNT;i++){
    nodes.push({
        x: Math.random()*w,
        y: Math.random()*h,
        vx: (Math.random()-.5)*1.2,
        vy: (Math.random()-.5)*1.2,
        pulse: Math.random()*Math.PI*2
    });
}

function animate(){
    ctx.clearRect(0,0,w,h);

    for(let i=0;i<nodes.length;i++){
        const n = nodes[i];

        n.x += n.vx;
        n.y += n.vy;
        n.pulse += 0.03;

        if(n.x<0||n.x>w) n.vx*=-1;
        if(n.y<0||n.y>h) n.vy*=-1;

        let size = 2.2 + Math.sin(n.pulse)*1.2;

        if(mouse.x){
            const dx = mouse.x - n.x;
            const dy = mouse.y - n.y;
            const dist = Math.sqrt(dx*dx + dy*dy);
            if(dist < 160){
                n.x += dx * 0.01;
                n.y += dy * 0.01;
                size += 1.5;
            }
        }

        ctx.beginPath();
        ctx.arc(n.x,n.y,size,0,Math.PI*2);
        ctx.fillStyle="#00ffcc";
        ctx.fill();

        for(let j=i+1;j<nodes.length;j++){
            const m = nodes[j];
            const dx = n.x - m.x;
            const dy = n.y - m.y;
            const dist = Math.sqrt(dx*dx + dy*dy);

            if(dist < 140){
                ctx.strokeStyle = `rgba(0,255,200,${1-dist/140})`;
                ctx.lineWidth = 1.2;
                ctx.beginPath();
                ctx.moveTo(n.x,n.y);
                ctx.lineTo(m.x,m.y);
                ctx.stroke();
            }
        }
    }
    requestAnimationFrame(animate);
}
animate();
</script>

<!-- ===== YOUR EXISTING LOGIC (UNCHANGED) ===== -->
<script src="js/utils/validator.js"></script>
<script src="js/utils/storage.js"></script>
<script src="js/main.js"></script>
<script src="js/dectectors/messageDetector.js"></script>
<script src="js/dectectors/urlDetector.js"></script>
<script src="js/dectectors/aiDetector.js"></script>
<script src="js/dectectors/imageDetector.js"></script>

</body>
</html>